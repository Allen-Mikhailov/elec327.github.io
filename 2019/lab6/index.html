

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

     <title>Lab 6</title> 
    <meta name="description" content="Soldering Redux and Finalizing Thermodot Firmware">
    <meta name="author" content="Caleb Kemere">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/2019/assets/themes/bootstrap/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/2019/assets/themes/bootstrap/elec327.css" rel="stylesheet">
  
    <!--[if lt IE 9]>
      <script src="/2019/assets/themes/bootstrap/resources/respond/Respond.min.js"></script>
    <![endif]-->

    <link href="/2019/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/2019/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>

        <nav class="navbar navbar-expand-lg navbar-dark bg-primary" role="navigation">
        <div class="container">
        <a class="navbar-brand" href="/2019/">Rice ELEC327 - Digital Systems Laboratory</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse" id="navbarSupportedContent">
          <ul class="navbar-nav navbar-dark mr-auto">
            
            
            


  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/bonus">Bonus</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/">Home</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/parts_and_notes">Parts/Notes</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/syllabus">Syllabus</a></li>
      	
      
    
  




            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Labs</a>
              <ul class="dropdown-menu bg-primary" aria-labelledby="navbarDropdown"role="menu">
                
                
                


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab1/">Lab 1</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab2/">Lab 2</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab3/">Lab 3</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab4/">Lab 4</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab5/">Lab 5</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item active"><a href="/2019/lab6/" class="dropdown-item active nav-link">Lab 6</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab7/">Lab 7</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab8/">Lab 8</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab9/">Lab 9</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab10/">Lab 10</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/midterm_project/">Project 1 - Midterm</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/final_project/">Project 2 - Final</a></li>
      	
      
    
  




              </ul>
            </li>
          </ul>
      </div>
      </div>
    </nav>



    <div class="container under-navbar">
      
<h2 id="lab-6-building-and-programing-the-thermodot-pcb">Lab #6: Building and programing the Thermodot PCB</h2>

<p><em>This lab builds on Lab 4 to make a device that flashes an RGB LED in an interesting pattern in
a way that depends on the ambient temperature. The goal is for you to continue to master
combining multiple elements of embedded system architecture.</em></p>

<div class="alert alert-danger" role="alert">
  <h4 id="what-should-be-turned-in">What should be turned in?</h4>

  <ol>
    <li>Your <strong>commented</strong> <code class="highlighter-rouge">thermodot.c</code> file (<em>Canvas</em>)</li>
  </ol>

  <h4 id="what-should-be-demod-live">What should be demoâ€™d live?</h4>
  <ol>
    <li>Showing how your device changes color depending on temperature.</li>
    <li>Describing how you achieve a nice rainbow of colors.</li>
    <li>The code for this demonstration.</li>
  </ol>

  <h4 id="the-lab-will-be-due-feb-23-2018">The lab will be due Feb 23, 2018</h4>

</div>

<h4 id="part-0-building-and-programming-the-thermodot-pcb">Part 0: Building and programming the Thermodot PCB</h4>

<p>Begin by assembling your mood ring PCB and programming it with the code you
developed for Lab 3. PAY ATTENTION to the values of resistance you use with the
RGB LED. If you make them too <strong>big</strong>, it may be fine when running from USB power,
but cause problems when running from the battery.</p>

<h4 id="part-1-firmware-requirements">Part 1: Firmware Requirements</h4>

<p>Unlike Lab 5, in this lab, the colors for your Thermodot should range throughout
the color spectrum including red, green, and blue and shades in between. Bright red
should correspond to hot and bright blue should be cold. For inspiration about
the colors in between you can look at the <a href="https://en.wikipedia.org/wiki/Color_temperature">wikipedia page on color temperature</a> (though note that
for us, hot and cold are reversed from black body radiation).</p>

<p><strong>Specific Requirements</strong> It is not enough to just vary the PWM levels as many
of you did for Lab 5. Different colors have different perceptual brightnesses,
and many of you also noted that the perceptual variation in brightness from 0
to 50% duty cycle is much larger than 50% to 100%. <strong>The point of this exercise
is to recognize that when you see an LED-based UI, thought has gone into choosing
the drive levels to achieve colors which are mixtures of the primary LEDs to
account for differing brightness and different __perceptual__ brightnesses (e.g.,
of green.</strong> <strong>You will be graded on whether your colors go through a perceptually-nice
rainbow.</strong> Be prepared to modify your code to sweep through the possible range of temperatures
automatically for visualization purposes. You must demo your actual device <strong>working from
battery power</strong>. Note that this will mean different currents flowing through the LED than when
driven from USB power!</p>

<p><strong>Your code should be well commented and modular!</strong></p>

<p>Save your firmware as <code class="highlighter-rouge">thermodot.c</code>. Turn this in on Canvas and demo your
device to the lab staff.</p>


      <hr>
      <footer>
        <p>
        &copy; 2019 <a href="http://kemerelab.com">Caleb Kemere</a>
        and <a href="http://www.ece.rice.edu">Rice University ECE</a>
        </p>
      </footer>
    </div>

    

    <script src="/2019/assets/themes/bootstrap/resources/jquery/jquery.min.js"></script>
    <script src="/2019/assets/themes/bootstrap/resources/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>


