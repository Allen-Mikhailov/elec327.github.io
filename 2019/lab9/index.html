

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

     <title>Lab 9</title> 
    <meta name="description" content="Randomness">
    <meta name="author" content="Caleb Kemere">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="/2019/assets/themes/bootstrap/resources/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/2019/assets/themes/bootstrap/elec327.css" rel="stylesheet">
  
    <!--[if lt IE 9]>
      <script src="/2019/assets/themes/bootstrap/resources/respond/Respond.min.js"></script>
    <![endif]-->

    <link href="/2019/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/2019/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>

        <nav class="navbar navbar-expand-lg navbar-dark bg-primary" role="navigation">
        <div class="container">
        <a class="navbar-brand" href="/2019/">Rice ELEC327 - Digital Systems Laboratory</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-collapse collapse" id="navbarSupportedContent">
          <ul class="navbar-nav navbar-dark mr-auto">
            
            
            


  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/bonus">Bonus</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/">Home</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/parts_and_notes">Parts/Notes</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/syllabus">Syllabus</a></li>
      	
      
    
  




            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Labs</a>
              <ul class="dropdown-menu bg-primary" aria-labelledby="navbarDropdown"role="menu">
                
                
                


  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab1/">Lab 1</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab2/">Lab 2</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab3/">Lab 3</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab4/">Lab 4</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab5/">Lab 5</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab6/">Lab 6</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab7/">Lab 7</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab8/">Lab 8</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item active"><a href="/2019/lab9/" class="dropdown-item active nav-link">Lab 9</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/lab10/">Lab 10</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/midterm_project/">Project 1 - Midterm</a></li>
      	
      
    
  
    
      
      	
      	<li class="nav-item"><a class="dropdown-item nav-link" href="/2019/final_project/">Project 2 - Final</a></li>
      	
      
    
  




              </ul>
            </li>
          </ul>
      </div>
      </div>
    </nav>



    <div class="container under-navbar">
      
<h2 id="lab-9-generating-random-numbers-in-an-embedded-system">Lab #9: Generating random numbers in an embedded system</h2>

<p><em>This lab builds on the PWM and RGB LED work we’ve done earlier. The goal is
for you to be comfortable with simple ways of generating random numbers in an embedded system.
That will be a very important feature for the Simon game.</em></p>

<div class="alert alert-danger" role="alert">
  <h4 id="what-should-be-turned-in">What should be turned in?</h4>

  <ol>
    <li>Your <strong>commented</strong> <code class="highlighter-rouge">random_rainbow.c</code> file (<em>Canvas</em>)</li>
  </ol>

  <h4 id="what-should-be-demod-live">What should be demo’d live?</h4>
  <ol>
    <li>Showing how your RGB led string changes color in a random manner.</li>
    <li>The code for this demonstration.</li>
  </ol>

  <h4 id="the-lab-will-be-due-march-22-2019">The lab will be due March 22, 2019</h4>
</div>

<h4 id="randomness">Randomness</h4>

<h5 id="next-we-will-add-some-randomness-to-the-rainbow-color-movement">Next, we will add some randomness to the rainbow color movement.</h5>
<p>Most random number generators maintain a state from one generated number to the next. The
number that is used to initialize this state is called a “seed”. Implement a random number
generator in a separate C-language file, with an associated header. We will follow the
C standard library syntax. That means you should define two functions and a constant:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  int rand(void): returns a pseudorandom number in the range of 0 to RAND_MAX.
  RAND_MAX: is a constant whose default value may vary between implementations but it is granted to be at least 32767.
  void srand(int seed): initializes the random number generator.
</code></pre></div></div>

<p>For the purposes of this lab, you can make RAND_MAX 31. Note that you should include the state
variable in your C file, but not in the header. (In other words, it can have module “scope” but
should not have global scope”.)</p>

<p>Now, change the shifting rainbow code so that at each time step, rather than
the temperature of each LED incrementing, pick a random change with value
<code class="highlighter-rouge">next_change = (7*last_change + 16 - rand())/8</code>. This value should be
constant for all LEDs in the chain. The result (hopefully) will be a rainbow
that randomly appears to move up and down. Note that the divide by 8 operation
should be implemented as a right shift, and that the <code class="highlighter-rouge">change</code> variables need
to be signed <code class="highlighter-rouge">int</code>s rather than <code class="highlighter-rouge">char</code>s. <strong>Save this code as <code class="highlighter-rouge">random_rainbow.c</code>.</strong>*</p>



      <hr>
      <footer>
        <p>
        &copy; 2019 <a href="http://kemerelab.com">Caleb Kemere</a>
        and <a href="http://www.ece.rice.edu">Rice University ECE</a>
        </p>
      </footer>
    </div>

    

    <script src="/2019/assets/themes/bootstrap/resources/jquery/jquery.min.js"></script>
    <script src="/2019/assets/themes/bootstrap/resources/bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>


